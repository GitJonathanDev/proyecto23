import{d as h,s as P,e as l,b as n,w as o,F as w,o as a,a as e,c as k,u as c,j as v,f as i,h as N,t as m,g as d,x as $}from"./app-C6Ljm75g.js";import{_ as B}from"./PrimaryButton-DXw7G3WG.js";import{a as E}from"./DialogModal-4e0TKDxe.js";import{_ as L}from"./TextInput-CSJ5jCkD.js";import{V}from"./VisitaFooter-fQvL4C6g.js";import{p as j}from"./plantillanav-IzOOFMsV.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                     */const F={class:"py-12"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"overflow-hidden shadow-xl sm:rounded-lg divgrande"},q={class:"p-6 lg:p-8 border-gray-200 divpequeno"},O={class:"flex justify-between items-center mb-6"},S={key:1},G={key:2},M=["action"],R={class:"flex space-x-2"},z={class:"overflow-x-auto"},H={class:"table-auto w-full text-sm"},J={class:"p-3"},K={class:"p-3"},Q={class:"p-3"},U={class:"p-3"},W={class:"p-3 text-center"},X=["onClick"],Y={class:"flex justify-between mt-4"},Z={key:0},ee={key:1},se={__name:"Index",props:{proveedores:Object,permisos:{type:Array,default:()=>[]}},setup(t){const f=h(!1),p=h(null),A=u=>{p.value=u,f.value=!0},_=()=>{p.value&&($.delete(route("proveedor.destroy",p.value.codProveedor)),f.value=!1)};return(u,s)=>{const C=P("AppLayout");return a(),l(w,null,[n(j,{userName:u.$page.props.auth.user.name},null,8,["userName"]),n(C,{title:"Gestionar Proveedores"},{header:o(()=>s[2]||(s[2]=[e("h1",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Lista de Proveedores ",-1)])),default:o(()=>{var b,x,y,g;return[e("div",F,[e("div",I,[e("div",T,[e("div",q,[s[11]||(s[11]=e("h1",{class:"text-2xl font-bold text-center mb-6"},"Lista de Proveedores",-1)),e("div",O,[Array.isArray(t.permisos)&&t.permisos.includes("registrar")?(a(),k(c(v),{key:0,href:u.route("proveedor.create"),class:"btn btn-primary inline-flex items-center space-x-2"},{default:o(()=>s[3]||(s[3]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"Registrar",-1)])),_:1},8,["href"])):i("",!0),Array.isArray(t.permisos)?i("",!0):(a(),l("p",S,"La propiedad permisos no es un array.")),Array.isArray(t.permisos)&&!t.permisos.includes("registrar")?(a(),l("p",G,"No tienes permiso para registrar nuevos proveedores.")):i("",!0),e("form",{action:u.route("proveedor.index"),method:"get",class:"flex space-x-2"},[e("div",R,[s[4]||(s[4]=e("select",{name:"criterio",class:"form-select"},[e("option",{value:"nombre"},"Nombre"),e("option",{value:"direccion"},"Dirección"),e("option",{value:"telefono"},"Teléfono")],-1)),n(L,{class:"w-full",name:"buscar",placeholder:"Buscar proveedor"}),s[5]||(s[5]=e("button",{type:"submit",class:"btn btn-outline-secondary flex items-center space-x-2"},[e("i",{class:"fas fa-search"}),e("span",null,"Buscar")],-1))])],8,M)]),e("div",z,[e("table",H,[s[8]||(s[8]=e("thead",null,[e("tr",null,[e("th",{class:"p-3 text-left"},"Código"),e("th",{class:"p-3 text-left"},"Nombre"),e("th",{class:"p-3 text-left"},"Dirección"),e("th",{class:"p-3 text-left"},"Teléfono"),e("th",{class:"p-3 text-center"},"Opciones")])],-1)),e("tbody",null,[(a(!0),l(w,null,N(t.proveedores.data,r=>(a(),l("tr",{key:r.codProveedor,class:"border-b"},[e("td",J,m(r.codProveedor),1),e("td",K,m(r.nombre),1),e("td",Q,m(r.direccion),1),e("td",U,m(r.telefono),1),e("td",W,[Array.isArray(t.permisos)&&t.permisos.includes("editar")?(a(),k(c(v),{key:0,href:u.route("proveedor.edit",r.codProveedor),class:"btn btn-warning btn-sm mx-1"},{default:o(()=>s[6]||(s[6]=[e("i",{class:"fas fa-edit"},null,-1),d(" Editar ")])),_:2},1032,["href"])):i("",!0),Array.isArray(t.permisos)&&t.permisos.includes("eliminar")?(a(),l("button",{key:1,onClick:te=>A(r),class:"btn btn-danger btn-sm mx-1"},s[7]||(s[7]=[e("i",{class:"fas fa-trash"},null,-1),d(" Eliminar ")]),8,X)):i("",!0)])]))),128))])])]),e("div",Y,[(b=t.proveedores)!=null&&b.prev_page_url?(a(),l("div",Z,[n(c(v),{href:(x=t.proveedores)==null?void 0:x.prev_page_url,class:"btn btn-primary"},{default:o(()=>s[9]||(s[9]=[e("i",{class:"fas fa-arrow-left"},null,-1),d(" Anterior ")])),_:1},8,["href"])])):i("",!0),(y=t.proveedores)!=null&&y.next_page_url?(a(),l("div",ee,[n(c(v),{href:(g=t.proveedores)==null?void 0:g.next_page_url,class:"btn btn-primary"},{default:o(()=>s[10]||(s[10]=[d(" Siguiente "),e("i",{class:"fas fa-arrow-right"},null,-1)])),_:1},8,["href"])])):i("",!0)])])])]),n(V)]),n(E,{show:f.value,onClose:s[1]||(s[1]=r=>f.value=!1)},{title:o(()=>s[12]||(s[12]=[e("h1",{class:"text-lg font-semibold"},"Confirmar Eliminación",-1)])),content:o(()=>{var r;return[e("p",null,[s[13]||(s[13]=d("¿Estás seguro de que deseas eliminar el proveedor ")),e("strong",null,m((r=p.value)==null?void 0:r.nombre),1),s[14]||(s[14]=d("?"))])]}),footer:o(()=>[n(B,{onClick:_,class:"bg-red-600 hover:bg-red-800"},{default:o(()=>s[15]||(s[15]=[d("Eliminar")])),_:1}),e("button",{onClick:s[0]||(s[0]=r=>f.value=!1),class:"ml-4 btn btn-secondary"},"Cancelar")]),_:1},8,["show"])]}),_:1})],64)}}},fe=D(se,[["__scopeId","data-v-76835b38"]]);export{fe as default};
