import{d as g,s as B,e as i,b as a,w as r,F as h,A as D,o as d,a as e,u,j as f,h as F,t as l,g as n,f as C,x as k}from"./app-C6Ljm75g.js";import{_ as L}from"./PrimaryButton-DXw7G3WG.js";import{a as N}from"./DialogModal-4e0TKDxe.js";import{_ as V}from"./TextInput-CSJ5jCkD.js";import{p as $}from"./plantillanav-IzOOFMsV.js";import{V as j}from"./VisitaFooter-fQvL4C6g.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                     */const I={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"overflow-hidden shadow-xl sm:rounded-lg divgrande"},S={class:"p-6 lg:p-8 border-gray-200 divpequeno"},P={class:"flex justify-between items-center mb-6"},T=["action"],q={class:"overflow-x-auto"},M={class:"table-auto w-full text-sm"},G={class:"p-3"},R={class:"p-3"},z={class:"p-3"},H={class:"p-3"},J={class:"p-3"},K={class:"p-3 text-center"},Q={class:"flex justify-between mt-4"},U={key:0},W={key:1},X=D({filters:{formatDate(o){return o?new Date(o).toLocaleDateString():""},formatCurrency(o){return new Intl.NumberFormat("es-BO",{style:"currency",currency:"BOB"}).format(o)}}}),Y=Object.assign(X,{__name:"Index",props:{compras:Object},setup(o){const m=g(!1),c=g(null),y=()=>{c.value&&(k.delete(route("compra.destroy",c.value.codCompra)),m.value=!1)};return(p,t)=>{const w=B("AppLayout");return d(),i(h,null,[a($,{userName:p.$page.props.auth.user.name},null,8,["userName"]),a(w,{title:"Gestionar Compras"},{header:r(()=>t[2]||(t[2]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Lista de Compras ",-1)])),default:r(()=>{var b,x,v,_;return[e("div",I,[e("div",O,[e("div",A,[e("div",S,[t[10]||(t[10]=e("h1",{class:"text-2xl font-bold text-center mb-6"},"Lista de Compras",-1)),e("div",P,[a(u(f),{href:p.route("compra.create"),class:"btn btn-primary inline-flex items-center space-x-2"},{default:r(()=>t[3]||(t[3]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"Registrar",-1)])),_:1},8,["href"]),e("form",{action:p.route("compra.index"),method:"get",class:"flex space-x-2"},[t[4]||(t[4]=e("select",{name:"criterio",class:"form-select"},[e("option",{value:"fechaCompra"},"Fecha"),e("option",{value:"codProveedorF"},"ID Proveedor")],-1)),a(V,{class:"w-full",name:"buscar",placeholder:"Buscar Compra"}),t[5]||(t[5]=e("button",{type:"submit",class:"btn btn-outline-secondary flex items-center space-x-2"},[e("i",{class:"fas fa-search"}),e("span",null,"Buscar")],-1))],8,T)]),e("div",q,[e("table",M,[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",{class:"p-3 text-left"},"Código de Compra"),e("th",{class:"p-3 text-left"},"Fecha de Compra"),e("th",{class:"p-3 text-left"},"Monto Total"),e("th",{class:"p-3 text-left"},"Proveedor"),e("th",{class:"p-3 text-left"},"Encargado"),e("th",{class:"p-3 text-center"},"Opciones")])],-1)),e("tbody",null,[(d(!0),i(h,null,F(o.compras.data,s=>(d(),i("tr",{key:s.codCompra,class:"border-b"},[e("td",G,l(s.codCompra),1),e("td",R,l(new Date(s.fechaCompra).toLocaleDateString()),1),e("td",z,l(s.montoTotal)+" Bs. ",1),e("td",H,l(s.proveedor.nombre),1),e("td",J,l(s.encargado.nombre),1),e("td",K,[a(u(f),{href:p.route("compra.show",s.codCompra),class:"btn btn-primary btn-sm mx-1"},{default:r(()=>t[6]||(t[6]=[e("i",{class:"fas fa-eye"},null,-1),n(" Ver Detalle ")])),_:2},1032,["href"])])]))),128))])])]),e("div",Q,[(b=o.compras)!=null&&b.prev_page_url?(d(),i("div",U,[a(u(f),{href:(x=o.compras)==null?void 0:x.prev_page_url,class:"btn btn-primary"},{default:r(()=>t[8]||(t[8]=[e("i",{class:"fas fa-arrow-left"},null,-1),n(" Anterior ")])),_:1},8,["href"])])):C("",!0),(v=o.compras)!=null&&v.next_page_url?(d(),i("div",W,[a(u(f),{href:(_=o.compras)==null?void 0:_.next_page_url,class:"btn btn-primary"},{default:r(()=>t[9]||(t[9]=[n(" Siguiente "),e("i",{class:"fas fa-arrow-right"},null,-1)])),_:1},8,["href"])])):C("",!0)])])])]),a(j)]),a(N,{show:m.value,onClose:t[1]||(t[1]=s=>m.value=!1)},{title:r(()=>t[11]||(t[11]=[e("h1",{class:"text-lg font-semibold"},"Confirmar Eliminación",-1)])),content:r(()=>{var s;return[e("p",null,[t[12]||(t[12]=n("¿Estás seguro de que deseas eliminar la compra ")),e("strong",null,l((s=c.value)==null?void 0:s.codCompra),1),t[13]||(t[13]=n("?"))])]}),footer:r(()=>[a(L,{onClick:y,class:"bg-red-600 hover:bg-red-800"},{default:r(()=>t[14]||(t[14]=[n("Eliminar")])),_:1}),e("button",{onClick:t[0]||(t[0]=s=>m.value=!1),class:"ml-4 btn btn-secondary"},"Cancelar")]),_:1},8,["show"])]}),_:1})],64)}}}),ne=E(Y,[["__scopeId","data-v-1156cc2f"]]);export{ne as default};
