import{C as f,o as a,e as n,a as s,k as m,z as S,f as d,F as y,h as M,n as g,g as h,t as p,v as k,m as w}from"./app-C6Ljm75g.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={name:"NavBar",props:{userName:{type:String,default:"Sin Usuario"}},data(){return{searchQuery:"",filteredResults:[],selectedStyle:localStorage.getItem("selectedStyle")||"defecto",isDarkMode:JSON.parse(localStorage.getItem("isDarkMode"))||!1,isMenuOpen:!1,isSearchBarOpen:!1,activeMenu:null,menuOptions:{}}},methods:{toggleSearchBar(){this.isSearchBarOpen=!this.isSearchBarOpen,this.isSearchBarOpen||this.clearSearch()},clearSearch(){this.searchQuery="",this.filteredResults=[]},toggleMenu(){this.isMenuOpen=!this.isMenuOpen},showMenu(l){this.activeMenu=l},keepMenuOpen(l){this.activeMenu=l},hideMenu(){this.activeMenu=null},logout(){f.post(route("logout")).then(l=>{console.log(l.data.message),window.location.href=route("login")}).catch(l=>{console.error("Error al cerrar sesión:",l)})},updateStyles(){localStorage.setItem("selectedStyle",this.selectedStyle),localStorage.setItem("isDarkMode",JSON.stringify(this.isDarkMode));const l=this.currentStyles[this.selectedStyle];document.querySelectorAll('link[rel="stylesheet"][data-page-style]').forEach(v=>v.remove());const c=document.createElement("link");c.rel="stylesheet",c.href=l,c.setAttribute("data-page-style","true"),document.head.appendChild(c)},fetchMenuOptions(){f.get(route("menus")).then(l=>{this.menuOptions=l.data}).catch(l=>{console.error("Error al obtener las opciones del menú:",l)})},async performSearch(){if(this.searchQuery.trim()===""){this.filteredResults=[];return}try{const l=await f.get(route("search"),{params:{query:this.searchQuery}});this.filteredResults=l.data}catch(l){console.error("Error en la búsqueda:",l)}}},computed:{currentStyles(){return{defecto:this.isDarkMode?"/css/estiloPagClienteOscuro.css":"/css/estiloPagClienteClaro.css",ninos:this.isDarkMode?"/css/estiloPagNinoOscuro.css":"/css/estiloPagNinoClaro.css",jovenes:this.isDarkMode?"/css/estiloPagJovenOscuro.css":"/css/estiloPagJovenClaro.css",adultos:this.isDarkMode?"/css/estiloPagAdultoOscuro.css":"/css/estiloPagAdultoClaro.css"}}},mounted(){if(this.updateStyles(),!document.querySelector('link[href*="font-awesome"]')){const l=document.createElement("link");l.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css",l.rel="stylesheet",document.head.appendChild(l)}this.fetchMenuOptions()}},A={class:"navbar"},C={class:"navbar-container"},x={class:"search-wrapper"},B={key:0,class:"search-bar"},D={key:0,class:"fas fa-times"},Z={key:0,class:"dropdown-search-results"},P=["href"],V=["onMouseenter"],E=["onMouseenter"],N=["href"],Q={class:"user-controls"},_={class:"custom-select-wrapper"},I={class:"mode-switch"},R={class:"swap swap-rotate"},H={key:0,class:"swap-off h-10 w-10 fill-current sol",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},J={key:1,class:"swap-on h-10 w-10 fill-current luna",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},j={class:"user-info"},q={class:"greeting"};function T(l,e,c,v,o,r){return a(),n("nav",A,[s("div",C,[e[19]||(e[19]=s("a",{href:"/",class:"logo"},[s("span",{class:"logo-body"},"Body"),s("span",{class:"logo-fit"},"Fit")],-1)),s("div",{class:"hamburger-icon",onClick:e[0]||(e[0]=(...t)=>r.toggleMenu&&r.toggleMenu(...t))},e[12]||(e[12]=[s("i",{class:"fas fa-bars"},null,-1)])),s("div",x,[s("button",{class:"search-icon",onClick:e[1]||(e[1]=(...t)=>r.toggleSearchBar&&r.toggleSearchBar(...t))},e[13]||(e[13]=[s("i",{class:"fas fa-search"},null,-1)])),o.isSearchBarOpen?(a(),n("div",B,[m(s("input",{type:"text",class:"search-input",placeholder:"Buscar...","onUpdate:modelValue":e[2]||(e[2]=t=>o.searchQuery=t),onInput:e[3]||(e[3]=(...t)=>r.performSearch&&r.performSearch(...t))},null,544),[[S,o.searchQuery]]),s("button",{onClick:e[4]||(e[4]=(...t)=>r.clearSearch&&r.clearSearch(...t)),class:"search-clear-btn"},[o.searchQuery?(a(),n("i",D)):d("",!0)]),o.filteredResults.length?(a(),n("ul",Z,[(a(!0),n(y,null,M(o.filteredResults,(t,u)=>(a(),n("li",{key:u},[s("a",{href:t.ruta},[s("i",{class:g(t.icono)},null,2),h(" "+p(t.nombre),1)],8,P)]))),128))])):d("",!0)])):d("",!0)]),s("ul",{class:g(["nav-links",{active:o.isMenuOpen}])},[(a(!0),n(y,null,M(o.menuOptions,(t,u)=>(a(),n("li",{class:"nav-item",key:u},[s("button",{onMouseenter:i=>r.showMenu(u),onMouseleave:e[5]||(e[5]=(...i)=>r.hideMenu&&r.hideMenu(...i)),class:"accordion-toggle"},[s("i",{class:g(t.icono)},null,2),h(" "+p(u),1)],40,V),o.activeMenu===u?(a(),n("ul",{key:0,class:"dropdown-content",onMouseenter:i=>r.keepMenuOpen(u),onMouseleave:e[6]||(e[6]=(...i)=>r.hideMenu&&r.hideMenu(...i))},[(a(!0),n(y,null,M(t.opciones,i=>(a(),n("li",{key:i.nombre},[s("a",{href:i.ruta},[s("i",{class:g(i.icono)},null,2),h(" "+p(i.nombre),1)],8,N)]))),128))],40,E)):d("",!0)]))),128))],2),s("div",Q,[s("div",_,[e[15]||(e[15]=s("label",{for:"style-select"},[h(" TEMAS "),s("i",{class:"fas fa-chevron-down"})],-1)),m(s("select",{id:"style-select","onUpdate:modelValue":e[7]||(e[7]=t=>o.selectedStyle=t),onChange:e[8]||(e[8]=(...t)=>r.updateStyles&&r.updateStyles(...t))},e[14]||(e[14]=[s("option",{value:"defecto"},"Cliente",-1),s("option",{value:"ninos"},"Niños",-1),s("option",{value:"jovenes"},"Jóvenes",-1),s("option",{value:"adultos"},"Adultos",-1)]),544),[[k,o.selectedStyle]])]),s("div",I,[s("label",R,[m(s("input",{type:"checkbox",class:"theme-controller","onUpdate:modelValue":e[9]||(e[9]=t=>o.isDarkMode=t),onChange:e[10]||(e[10]=(...t)=>r.updateStyles&&r.updateStyles(...t))},null,544),[[w,o.isDarkMode]]),o.isDarkMode?d("",!0):(a(),n("svg",H,e[16]||(e[16]=[s("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"},null,-1)]))),o.isDarkMode?(a(),n("svg",J,e[17]||(e[17]=[s("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"},null,-1)]))):d("",!0)])]),s("div",j,[s("span",q,"Hola, "+p(c.userName),1),s("button",{onClick:e[11]||(e[11]=(...t)=>r.logout&&r.logout(...t)),class:"logout-btn"},e[18]||(e[18]=[s("i",{class:"fas fa-sign-out-alt"},null,-1),h(" Cerrar Sesión ")]))])])])])}const L=b(O,[["render",T],["__scopeId","data-v-3eabb312"]]);export{L as p};
