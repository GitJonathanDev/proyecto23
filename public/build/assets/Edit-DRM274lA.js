import{T as N,d as $,q as E,s as T,e as u,b as r,w as m,F as q,o as h,a as e,i as B,u as i,f as g,j as D,g as F,x as L}from"./app-C6Ljm75g.js";import{_ as I}from"./InputError-DNwQAqX2.js";import{_ as V}from"./InputLabel-B9Ydpcgw.js";import{_ as y}from"./TextInput-CSJ5jCkD.js";import{_ as S}from"./PrimaryButton-DXw7G3WG.js";import{p as j}from"./plantillanav-IzOOFMsV.js";import{V as A}from"./VisitaFooter-fQvL4C6g.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                     */const O={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},G={class:"overflow-hidden shadow-xl sm:rounded-lg divgrande"},M={class:"p-6 lg:p-8 border-gray-200 divpequeno"},R={class:"mb-4"},z={key:0,class:"text-red-500 text-sm dd"},J={class:"mb-4"},K={key:0,class:"text-red-500 text-sm dd"},P={class:"text-center mt-4"},Q={__name:"Edit",props:{horario:Object,errors:Object},setup(w){var v,x;const n=w,o=N({horaInicio:"",horaFin:""}),c=$(null),d=t=>{const[a,l]=t.split(":");return`${a.padStart(2,"0")}:${l.padStart(2,"0")}`},p=t=>{const[a,l]=t.split(":").map(Number),s=new Date;return s.setHours(a,l,0,0),s};o.horaInicio=d(((v=n.horario)==null?void 0:v.horaInicio)||""),o.horaFin=d(((x=n.horario)==null?void 0:x.horaFin)||"");const f=()=>o.horaInicio!=="",H=()=>o.horaFin!=="",_=()=>{const t=p(o.horaInicio),a=p(o.horaFin);return t.getTime()<a.getTime()},b=()=>f()&&H()&&_(),k=()=>{o.horaInicio=d(o.horaInicio),o.horaFin=d(o.horaFin),o.put(route("horario.update",n.horario.codHorario),{onSuccess:()=>{L.get(route("horario.index"))}})};return E([()=>o.horaInicio,()=>o.horaFin],()=>{c.value&&(c.value.disabled=!b())}),(t,a)=>{const l=T("AppLayout");return h(),u(q,null,[r(j,{userName:t.$page.props.auth.user.name},null,8,["userName"]),r(l,{title:"Editar Horario"},{header:m(()=>a[2]||(a[2]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Editar Horario",-1)])),default:m(()=>[e("div",O,[e("div",U,[e("div",G,[e("div",M,[a[5]||(a[5]=e("h1",{class:"text-2xl font-bold text-center mb-6"},"Editar Horario",-1)),e("form",{onSubmit:B(k,["prevent"]),novalidate:""},[e("div",R,[r(V,{for:"horaInicio",value:"Hora de inicio",class:"bb"}),r(I,{message:n.errors.horaInicio},null,8,["message"]),r(y,{modelValue:i(o).horaInicio,"onUpdate:modelValue":a[0]||(a[0]=s=>i(o).horaInicio=s),id:"horaInicio",type:"time",class:"mt-1 block w-full cc",required:""},null,8,["modelValue"]),!f()&&i(o).horaInicio?(h(),u("div",z," * La hora de inicio es obligatoria. ")):g("",!0)]),e("div",J,[r(V,{for:"horaFin",value:"Hora de fin",class:"bb"}),r(I,{message:n.errors.horaFin},null,8,["message"]),r(y,{modelValue:i(o).horaFin,"onUpdate:modelValue":a[1]||(a[1]=s=>i(o).horaFin=s),id:"horaFin",type:"time",class:"mt-1 block w-full cc",required:""},null,8,["modelValue"]),!_()&&i(o).horaFin?(h(),u("div",K," * La hora de fin debe ser mayor que la hora de inicio. ")):g("",!0)]),e("div",P,[r(i(D),{href:t.route("horario.index"),class:"btn btn-secondary me-3"},{default:m(()=>a[3]||(a[3]=[e("i",{class:"fas fa-arrow-left"},null,-1),F(" AtrÃ¡s ")])),_:1},8,["href"]),r(S,{ref_key:"submitButton",ref:c,class:"btn btn-primary",disabled:!b()||i(o).processing},{default:m(()=>a[4]||(a[4]=[e("i",{class:"fas fa-save"},null,-1),F(" Guardar ")])),_:1},8,["disabled"])])],32)])])]),r(A)])]),_:1})],64)}}},io=C(Q,[["__scopeId","data-v-1affc33a"]]);export{io as default};
