import{d as h,s as N,e as a,b as l,w as o,F as y,o as n,a as t,u as p,j as f,h as $,t as r,g as i,f as w,x as B}from"./app-C6Ljm75g.js";import{_ as E}from"./PrimaryButton-DXw7G3WG.js";import{a as V}from"./DialogModal-4e0TKDxe.js";import{p as F}from"./plantillanav-IzOOFMsV.js";import{V as I}from"./VisitaFooter-fQvL4C6g.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                     */const j={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"overflow-hidden shadow-xl sm:rounded-lg divgrande"},q={class:"p-6 lg:p-8 border-gray-200 divpequeno"},D={class:"flex justify-between items-center mb-6"},O=["action"],G={class:"overflow-x-auto"},M={class:"table-auto w-full text-sm"},R={class:"p-3"},T={class:"p-3"},z={class:"p-3"},H={class:"p-3"},J={class:"p-3"},K={class:"p-3"},Q={class:"p-3"},U=["src"],W={key:1},X={class:"p-3 text-center"},Y=["onClick"],Z={class:"flex justify-between mt-4"},tt={key:0},et={key:1},st={__name:"Index",props:{productos:Object,categorias:Array},setup(u){const c=h(!1),m=h(null),k=d=>{m.value=d,c.value=!0},C=()=>{m.value&&(B.delete(route("producto.destroy",m.value.codProducto)),c.value=!1)};return(d,e)=>{const P=N("AppLayout");return n(),a(y,null,[l(F,{userName:d.$page.props.auth.user.name},null,8,["userName"]),l(P,{title:"Gestionar Productos"},{header:o(()=>e[2]||(e[2]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Lista de Productos ",-1)])),default:o(()=>{var b,x,g,_;return[t("div",j,[t("div",A,[t("div",S,[t("div",q,[e[10]||(e[10]=t("h1",{class:"text-2xl font-bold text-center mb-6"},"Lista de Productos",-1)),t("div",D,[l(p(f),{href:d.route("producto.create"),class:"btn btn-primary inline-flex items-center space-x-2"},{default:o(()=>e[3]||(e[3]=[t("i",{class:"fas fa-plus"},null,-1),t("span",null,"Registrar",-1)])),_:1},8,["href"]),t("form",{action:d.route("producto.index"),method:"get",class:"flex space-x-2"},e[4]||(e[4]=[t("div",{class:"input-group"},[t("select",{name:"criterio",class:"form-select","aria-label":"Criterio de búsqueda"},[t("option",{value:"",disabled:"",selected:""},"Seleccionar criterio"),t("option",{value:"nombre"},"Nombre")]),t("input",{type:"text",name:"buscar",class:"form-control",placeholder:"Buscar producto"}),t("button",{type:"submit",class:"btn btn-outline-secondary flex items-center space-x-2"},[t("i",{class:"fas fa-search"}),t("span",null,"Buscar")])],-1)]),8,O)]),t("div",G,[t("table",M,[e[7]||(e[7]=t("thead",null,[t("tr",null,[t("th",{class:"p-3 text-left"},"Código"),t("th",{class:"p-3 text-left"},"Nombre"),t("th",{class:"p-3 text-left"},"Descripción"),t("th",{class:"p-3 text-left"},"Precio"),t("th",{class:"p-3 text-left"},"Stock"),t("th",{class:"p-3 text-left"},"Categoría"),t("th",{class:"p-3 text-left"},"Imagen"),t("th",{class:"p-3 text-center"},"Opciones")])],-1)),t("tbody",null,[(n(!0),a(y,null,$(u.productos.data,s=>{var v;return n(),a("tr",{key:s.codProducto,class:"border-b"},[t("td",R,r(s.codProducto),1),t("td",T,r(s.nombre),1),t("td",z,r(s.descripcion),1),t("td",H,r(s.precio.toFixed(2))+" Bs.",1),t("td",J,r(s.stock),1),t("td",K,r(((v=s.categoria)==null?void 0:v.nombre)??"No disponible"),1),t("td",Q,[s.imagen_url?(n(),a("img",{key:0,src:`/storage/uploads/${s.imagen_url}`,alt:"Imagen del producto",class:"img-thumbnail",style:{"max-width":"120px"}},null,8,U)):(n(),a("span",W,"No tiene imagen"))]),t("td",X,[l(p(f),{href:d.route("producto.edit",s.codProducto),class:"btn btn-warning btn-sm mx-1"},{default:o(()=>e[5]||(e[5]=[t("i",{class:"fas fa-edit"},null,-1),i(" Editar ")])),_:2},1032,["href"]),t("button",{onClick:ot=>k(s),class:"btn mt-4 btn-danger btn-sm mx-1"},e[6]||(e[6]=[t("i",{class:"fas fa-trash"},null,-1),i(" Eliminar ")]),8,Y)])])}),128))])])]),t("div",Z,[(b=u.productos)!=null&&b.prev_page_url?(n(),a("div",tt,[l(p(f),{href:(x=u.productos)==null?void 0:x.prev_page_url,class:"btn btn-primary"},{default:o(()=>e[8]||(e[8]=[t("i",{class:"fas fa-arrow-left"},null,-1),i(" Anterior ")])),_:1},8,["href"])])):w("",!0),(g=u.productos)!=null&&g.next_page_url?(n(),a("div",et,[l(p(f),{href:(_=u.productos)==null?void 0:_.next_page_url,class:"btn btn-primary"},{default:o(()=>e[9]||(e[9]=[i(" Siguiente "),t("i",{class:"fas fa-arrow-right"},null,-1)])),_:1},8,["href"])])):w("",!0)])])])]),l(I)]),l(V,{show:c.value,onClose:e[1]||(e[1]=s=>c.value=!1)},{title:o(()=>e[11]||(e[11]=[t("h1",{class:"text-lg font-semibold"},"Confirmar Eliminación",-1)])),content:o(()=>{var s;return[t("p",null,[e[12]||(e[12]=i("¿Estás seguro de que deseas eliminar el producto ")),t("strong",null,r((s=m.value)==null?void 0:s.nombre),1),e[13]||(e[13]=i("?"))])]}),footer:o(()=>[l(E,{onClick:C,class:"bg-red-600 hover:bg-red-800"},{default:o(()=>e[14]||(e[14]=[i("Eliminar")])),_:1}),t("button",{onClick:e[0]||(e[0]=s=>c.value=!1),class:"ml-4 btn btn-secondary"},"Cancelar")]),_:1},8,["show"])]}),_:1})],64)}}},ct=L(st,[["__scopeId","data-v-8fbd9d8d"]]);export{ct as default};
