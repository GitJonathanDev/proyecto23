import{C as n,e as i,a as e,F as p,h as m,t as c,f as b,i as y,k as x,z as h,o as a}from"./app-C6Ljm75g.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const f={data(){return{menus:[],opciones:[],permisos:[],tiposUsuario:[],menuSeleccionado:null,opcionSeleccionada:null,permisoSeleccionado:null}},methods:{async cargarMenus(){const t=await n.get("/menus");this.menus=t.data},nuevoMenu(){const t=prompt("Nombre del menú:"),o=prompt("Ícono del menú (opcional):");n.post("/menus",{nombre:t,icono:o}).then(this.cargarMenus)},editarMenu(t){const o=prompt("Nuevo nombre del menú:",t.nombre),l=prompt("Nuevo ícono del menú:",t.icono);n.put(`/menus/${t.codMenu}`,{nombre:o,icono:l}).then(this.cargarMenus)},eliminarMenu(t){n.delete(`/menus/${t}`).then(this.cargarMenus)},verOpciones(t){n.get(`/menus/${t}/opciones`).then(o=>{this.opciones=o.data,this.menuSeleccionado=this.menus.find(l=>l.codMenu===t)})},cerrarOpciones(){this.menuSeleccionado=null,this.opciones=[]},nuevaOpcion(){const t=prompt("Nombre de la opción:"),o=prompt("Ruta de la opción:"),l=prompt("Ícono de la opción (opcional):");n.post("/opciones",{nombre:t,ruta:o,icono:l,codMenuF:this.menuSeleccionado.codMenu}).then(()=>this.verOpciones(this.menuSeleccionado.codMenu))},editarOpcion(t){const o=prompt("Nuevo nombre de la opción:",t.nombre),l=prompt("Nueva ruta de la opción:",t.ruta),g=prompt("Nuevo ícono de la opción:",t.icono);n.put(`/opciones/${t.codOpcion}`,{nombre:o,ruta:l,icono:g}).then(()=>this.verOpciones(this.menuSeleccionado.codMenu))},eliminarOpcion(t){n.delete(`/opciones/${t}`).then(()=>this.verOpciones(this.menuSeleccionado.codMenu))},verPermisos(t){n.get(`/opciones/${t}/permisos`).then(o=>{this.permisos=o.data,this.opcionSeleccionada=this.opciones.find(l=>l.codOpcion===t)})},cerrarPermisos(){this.opcionSeleccionada=null,this.permisos=[]},nuevoPermiso(){const t=prompt("Acción del permiso:");n.post("/permisos",{accion:t,codOpcionF:this.opcionSeleccionada.codOpcion}).then(()=>this.verPermisos(this.opcionSeleccionada.codOpcion))},eliminarPermiso(t){n.delete(`/permisos/${t}`).then(()=>this.verPermisos(this.opcionSeleccionada.codOpcion))},verTiposUsuario(t){n.get(`/permisos/${t}/tiposUsuario`).then(o=>{this.tiposUsuario=o.data,this.permisoSeleccionado=this.permisos.find(l=>l.codPermiso===t)})},cerrarTiposUsuario(){this.permisoSeleccionado=null,this.tiposUsuario=[]},agregarTipoUsuario(){const t=prompt("ID del tipo de usuario a agregar:");n.post(`/permisos/${this.permisoSeleccionado.codPermiso}/tiposUsuario`,{codTipoUsuarioF:t}).then(()=>this.verTiposUsuario(this.permisoSeleccionado.codPermiso))},quitarTipoUsuario(t){n.delete(`/permisos/${this.permisoSeleccionado.codPermiso}/tiposUsuario/${t}`).then(()=>this.verTiposUsuario(this.permisoSeleccionado.codPermiso))}},mounted(){this.cargarMenus()}},w={id:"admin-panel",class:"p-8 max-w-7xl mx-auto bg-white shadow-xl rounded-lg"},M={class:"mb-8"},k={class:"w-full border-collapse table-auto shadow-md bg-gray-50 rounded-lg"},_={class:"px-6 py-4 border text-sm text-gray-700"},C={class:"px-6 py-4 border text-sm text-gray-700"},O={class:"px-6 py-4 border text-sm text-gray-700"},S=["onClick"],U=["onClick"],P=["onClick"],T={key:0,class:"mb-8"},N={class:"text-2xl font-medium text-gray-700 mb-6"},V={class:"w-full border-collapse table-auto shadow-md bg-gray-50 rounded-lg"},A={class:"px-6 py-4 border text-sm text-gray-700"},D={class:"px-6 py-4 border text-sm text-gray-700"},E={class:"px-6 py-4 border text-sm text-gray-700"},F={class:"px-6 py-4 border text-sm text-gray-700"},q=["onClick"],B=["onClick"],j=["onClick"],G={key:1,class:"mb-8"},R={class:"text-2xl font-medium text-gray-700 mb-6"},z={class:"w-full border-collapse table-auto shadow-md bg-gray-50 rounded-lg"},I={class:"px-6 py-4 border text-sm text-gray-700"},L={class:"px-6 py-4 border text-sm text-gray-700"},Q=["onClick"],H=["onClick"],J={key:2,class:"mb-8"},K={class:"text-2xl font-medium text-gray-700 mb-6"},W={class:"w-full border-collapse table-auto shadow-md bg-gray-50 rounded-lg"},X={class:"px-6 py-4 border text-sm text-gray-700"},Y={class:"px-6 py-4 border text-sm text-gray-700"},Z=["onClick"],$={key:3,class:"fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center"},ee={class:"bg-white p-6 rounded-lg w-96"},oe={class:"flex justify-end"};function te(t,o,l,g,d,r){return a(),i("div",w,[o[18]||(o[18]=e("h1",{class:"text-3xl font-semibold text-gray-800 mb-8"},"Gestión de Menús y Permisos",-1)),e("section",M,[o[12]||(o[12]=e("h2",{class:"text-2xl font-medium text-gray-700 mb-6"},"Menús",-1)),e("button",{onClick:o[0]||(o[0]=(...s)=>r.nuevoMenu&&r.nuevoMenu(...s)),class:"px-6 py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition duration-200 mb-6"},"+ Nuevo Menú"),e("table",k,[o[11]||(o[11]=e("thead",{class:"bg-blue-100"},[e("tr",null,[e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Nombre"),e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Ícono"),e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Acciones")])],-1)),e("tbody",null,[(a(!0),i(p,null,m(d.menus,s=>(a(),i("tr",{key:s.codMenu,class:"hover:bg-gray-100 transition"},[e("td",_,c(s.nombre),1),e("td",C,c(s.icono),1),e("td",O,[e("button",{onClick:u=>r.editarMenu(s),class:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition duration-200 mr-2"},"Editar",8,S),e("button",{onClick:u=>r.eliminarMenu(s.codMenu),class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-200 mr-2"},"Eliminar",8,U),e("button",{onClick:u=>r.verOpciones(s.codMenu),class:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition duration-200"},"Ver Opciones",8,P)])]))),128))])])]),d.menuSeleccionado?(a(),i("section",T,[e("h2",N,"Opciones de Menú: "+c(d.menuSeleccionado.nombre),1),e("button",{onClick:o[1]||(o[1]=(...s)=>r.nuevaOpcion&&r.nuevaOpcion(...s)),class:"px-6 py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition duration-200 mb-6"},"+ Nueva Opción"),e("button",{onClick:o[2]||(o[2]=(...s)=>r.cerrarOpciones&&r.cerrarOpciones(...s)),class:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition duration-200 mb-6"},"Volver a Menús"),e("table",V,[o[13]||(o[13]=e("thead",{class:"bg-blue-100"},[e("tr",null,[e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Nombre"),e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Ruta"),e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Ícono"),e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Acciones")])],-1)),e("tbody",null,[(a(!0),i(p,null,m(d.opciones,s=>(a(),i("tr",{key:s.codOpcion,class:"hover:bg-gray-100 transition"},[e("td",A,c(s.nombre),1),e("td",D,c(s.ruta),1),e("td",E,c(s.icono),1),e("td",F,[e("button",{onClick:u=>r.editarOpcion(s),class:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition duration-200 mr-2"},"Editar",8,q),e("button",{onClick:u=>r.eliminarOpcion(s.codOpcion),class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-200 mr-2"},"Eliminar",8,B),e("button",{onClick:u=>r.verPermisos(s.codOpcion),class:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition duration-200"},"Ver Permisos",8,j)])]))),128))])])])):b("",!0),d.opcionSeleccionada?(a(),i("section",G,[e("h2",R,"Permisos de Opción: "+c(d.opcionSeleccionada.nombre),1),e("button",{onClick:o[3]||(o[3]=(...s)=>r.nuevoPermiso&&r.nuevoPermiso(...s)),class:"px-6 py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition duration-200 mb-6"},"+ Nuevo Permiso"),e("button",{onClick:o[4]||(o[4]=(...s)=>r.cerrarPermisos&&r.cerrarPermisos(...s)),class:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition duration-200 mb-6"},"Volver a Opciones"),e("table",z,[o[14]||(o[14]=e("thead",{class:"bg-blue-100"},[e("tr",null,[e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Acción"),e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Acciones")])],-1)),e("tbody",null,[(a(!0),i(p,null,m(d.permisos,s=>(a(),i("tr",{key:s.codPermiso,class:"hover:bg-gray-100 transition"},[e("td",I,c(s.accion),1),e("td",L,[e("button",{onClick:u=>r.verTiposUsuario(s.codPermiso),class:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition duration-200 mr-2"},"Ver Tipos de Usuario",8,Q),e("button",{onClick:u=>r.eliminarPermiso(s.codPermiso),class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-200"},"Eliminar",8,H)])]))),128))])])])):b("",!0),d.permisoSeleccionado?(a(),i("section",J,[e("h2",K,"Tipos de Usuario con Permiso: "+c(d.permisoSeleccionado.accion),1),e("button",{onClick:o[5]||(o[5]=(...s)=>r.agregarTipoUsuario&&r.agregarTipoUsuario(...s)),class:"px-6 py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition duration-200 mb-6"},"+ Agregar Tipo de Usuario"),e("button",{onClick:o[6]||(o[6]=(...s)=>r.cerrarTiposUsuario&&r.cerrarTiposUsuario(...s)),class:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition duration-200 mb-6"},"Volver a Permisos"),e("table",W,[o[15]||(o[15]=e("thead",{class:"bg-blue-100"},[e("tr",null,[e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Tipo de Usuario"),e("th",{class:"px-6 py-3 border text-left text-sm font-semibold text-gray-600"},"Acciones")])],-1)),e("tbody",null,[(a(!0),i(p,null,m(d.tiposUsuario,s=>(a(),i("tr",{key:s.codTipoUsuario,class:"hover:bg-gray-100 transition"},[e("td",X,c(s.descripcion),1),e("td",Y,[e("button",{onClick:u=>r.quitarTipoUsuario(s.codTipoUsuario),class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-200"},"Quitar",8,Z)])]))),128))])])])):b("",!0),t.modalMenu?(a(),i("div",$,[e("div",ee,[o[17]||(o[17]=e("h3",{class:"text-xl font-medium mb-4"},"Nuevo Menú",-1)),e("form",{onSubmit:o[10]||(o[10]=y((...s)=>t.crearMenu&&t.crearMenu(...s),["prevent"]))},[x(e("input",{"onUpdate:modelValue":o[7]||(o[7]=s=>t.nuevoMenuData.nombre=s),class:"w-full p-2 mb-4 border rounded",placeholder:"Nombre del Menú",required:""},null,512),[[h,t.nuevoMenuData.nombre]]),x(e("input",{"onUpdate:modelValue":o[8]||(o[8]=s=>t.nuevoMenuData.icono=s),class:"w-full p-2 mb-4 border rounded",placeholder:"Ícono",required:""},null,512),[[h,t.nuevoMenuData.icono]]),e("div",oe,[o[16]||(o[16]=e("button",{type:"submit",class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"},"Guardar",-1)),e("button",{onClick:o[9]||(o[9]=(...s)=>t.cerrarModal&&t.cerrarModal(...s)),type:"button",class:"ml-4 px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition"},"Cancelar")])],32)])])):b("",!0)])}const ne=v(f,[["render",te]]);export{ne as default};
