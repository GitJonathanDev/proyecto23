import{T as q,d as A,l as f,y as B,q as L,s as x,e as l,b as t,w as u,F as b,o as n,a as s,i as $,k as m,v as F,u as r,h as y,t as h,bJ as w,f as C,g as k,x as M}from"./app-C6Ljm75g.js";import{_ as g}from"./InputError-DNwQAqX2.js";import{_ as S}from"./InputLabel-B9Ydpcgw.js";import{_ as P}from"./TextInput-CSJ5jCkD.js";import{_ as T}from"./PrimaryButton-DXw7G3WG.js";import{p as j}from"./plantillanav-IzOOFMsV.js";import{V as U}from"./VisitaFooter-fQvL4C6g.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                     */const E={class:"py-12"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"overflow-hidden shadow-xl sm:rounded-lg divgrande"},G={class:"p-6 lg:p-8 border-gray-200 divpequeno"},J={class:"mb-4"},z=["value"],H={class:"mb-4"},K=["value"],Q={class:"text-red-500 text-sm dd"},W={class:"mb-4"},X={key:0,class:"text-red-500 text-sm dd"},Y={class:"text-center ff"},ne={__name:"Create",props:{servicios:Array,tiposRegistrados:Object,tiposDisponibles:Array,errors:Object},setup(d){const c=d,o=q({codServicioF:"",tipo:"",precio:""}),V=A(null),_=f(()=>{const a=o.codServicioF;if(!a)return c.tiposDisponibles;const e=c.tiposRegistrados[a]||[];return c.tiposDisponibles.filter(v=>!e.includes(v))}),N=f(()=>{var a;return!o.codServicioF||_.value.length>0?!1:((a=c.tiposRegistrados[o.codServicioF])==null?void 0:a.length)>0}),p=f(()=>o.codServicioF&&o.tipo&&parseFloat(o.precio)>0),R=()=>{o.post(route("precioServicio.store"),{onSuccess:()=>{M.get(route("precioServicio.index"))}})};return B(()=>{p.value}),L([()=>o.codServicioF,()=>o.tipo,()=>o.precio],()=>{p.value}),(a,e)=>{const v=x("Link"),D=x("AppLayout");return n(),l(b,null,[t(j,{userName:a.$page.props.auth.user.name},null,8,["userName"]),t(D,{title:"Registrar Precio de Servicio"},{header:u(()=>e[3]||(e[3]=[s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Registrar Precio de Servicio ",-1)])),default:u(()=>[s("div",E,[s("div",I,[s("div",O,[s("div",G,[e[8]||(e[8]=s("h1",{class:"text-2xl font-bold text-center mb-6 ee"},"Registrar Precio de Servicio",-1)),s("form",{onSubmit:$(R,["prevent"]),novalidate:""},[s("div",J,[t(S,{for:"codServicioF",value:"Servicio",class:"bb"}),t(g,{message:d.errors.codServicioF},null,8,["message"]),m(s("select",{"onUpdate:modelValue":e[0]||(e[0]=i=>r(o).codServicioF=i),id:"codServicioF",class:"mt-1 block w-full cc",required:""},[e[4]||(e[4]=s("option",{value:""},"Seleccione un servicio",-1)),(n(!0),l(b,null,y(c.servicios,i=>(n(),l("option",{key:i.codServicio,value:i.codServicio},h(i.nombre),9,z))),128))],512),[[F,r(o).codServicioF]])]),m(s("div",H,[t(S,{for:"tipo",value:"Tipo",class:"bb"}),t(g,{message:d.errors.tipo},null,8,["message"]),m(s("select",{"onUpdate:modelValue":e[1]||(e[1]=i=>r(o).tipo=i),id:"tipo",class:"mt-1 block w-full cc",required:""},[e[5]||(e[5]=s("option",{value:""},"Seleccione un tipo",-1)),(n(!0),l(b,null,y(_.value,i=>(n(),l("option",{key:i,value:i},h(i),9,K))),128))],512),[[F,r(o).tipo]]),m(s("div",Q," * No hay tipos disponibles para seleccionar. ",512),[[w,N.value]])],512),[[w,r(o).codServicioF]]),s("div",W,[t(S,{for:"precio",value:"Precio",class:"bb"}),t(g,{message:d.errors.precio},null,8,["message"]),t(P,{modelValue:r(o).precio,"onUpdate:modelValue":e[2]||(e[2]=i=>r(o).precio=i),id:"precio",class:"mt-1 block w-full cc",type:"number",step:"0.01",placeholder:"Ingrese el precio",required:""},null,8,["modelValue"]),!p.value&&r(o).precio.length>0?(n(),l("div",X," * El precio debe ser mayor a 0. ")):C("",!0)]),s("div",Y,[t(v,{href:"{{ route('precioServicio.index') }}",class:"btn btn-secondary me-3"},{default:u(()=>e[6]||(e[6]=[s("i",{class:"fas fa-arrow-left"},null,-1),k(" AtrÃ¡s ")])),_:1}),t(T,{ref_key:"submitButton",ref:V,class:"mt-4 btn-primary",disabled:!p.value||r(o).processing},{default:u(()=>e[7]||(e[7]=[s("i",{class:"fas fa-save"},null,-1),k(" Guardar ")])),_:1},8,["disabled"])])],32)])])]),t(U)])]),_:1})],64)}}};export{ne as default};
