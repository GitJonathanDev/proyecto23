import{d as v,s as S,e as r,b as o,w as a,F as w,o as n,a as e,u as b,j as x,i as V,k as E,v as L,h as B,t as f,g as i,f as U,x as T}from"./app-C6Ljm75g.js";import{_ as j}from"./PrimaryButton-DXw7G3WG.js";import{a as A}from"./DialogModal-4e0TKDxe.js";import{_ as F}from"./TextInput-CSJ5jCkD.js";import{p as q}from"./plantillanav-IzOOFMsV.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"overflow-hidden shadow-xl sm:rounded-lg divgrande"},R={class:"p-6 lg:p-8 border-gray-200 divpequeno"},G={class:"flex justify-between items-center mb-6"},I={class:"overflow-x-auto"},z={class:"table-auto w-full text-sm"},H={class:"p-3"},J={class:"p-3"},K={class:"p-3"},Q={class:"p-3"},W={key:0},X={key:1},Y={class:"p-3 text-center"},Z=["onClick"],ee={class:"flex justify-between mt-4"},se={key:0},te={key:1},ae={__name:"index",props:{usuarios:Object},setup(u){const d=v(!1),p=v(null),C=l=>{p.value=l,d.value=!0},k=()=>{p.value&&(T.delete(route("usuario.destroy",p.value.codUsuario)),d.value=!1)},m=v(""),c=v(""),N=()=>{const l=new URLSearchParams;m.value&&l.append("buscar",m.value),c.value&&l.append("criterio",c.value),window.location.href=`${route("usuario.index")}?${l.toString()}`};return(l,s)=>{const $=S("AppLayout");return n(),r(w,null,[o(q,{userName:l.$page.props.auth.user.name},null,8,["userName"]),o($,{title:"Gestionar Usuarios"},{header:a(()=>s[4]||(s[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Lista de Usuarios ",-1)])),default:a(()=>{var g,_,h,y;return[e("div",M,[e("div",O,[e("div",P,[e("div",R,[s[14]||(s[14]=e("h1",{class:"text-2xl font-bold text-center mb-6"},"Lista de Usuarios",-1)),e("div",G,[o(b(x),{href:l.route("usuario.create"),class:"btn btn-primary inline-flex items-center space-x-2"},{default:a(()=>s[5]||(s[5]=[e("i",{class:"fas fa-user-plus"},null,-1),e("span",null,"Registrar",-1)])),_:1},8,["href"]),e("form",{onSubmit:V(N,["prevent"]),class:"flex space-x-2"},[E(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t),class:"form-select"},s[6]||(s[6]=[e("option",{value:"",disabled:"",selected:""},"Seleccionar criterio",-1),e("option",{value:"name"},"Nombre",-1),e("option",{value:"codTipoUsuarioF"},"Tipo de Usuario",-1)]),512),[[L,c.value]]),o(F,{modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),class:"w-full",placeholder:"Buscar usuario"},null,8,["modelValue"]),s[7]||(s[7]=e("button",{type:"submit",class:"btn btn-outline-secondary flex items-center space-x-2"},[e("i",{class:"fas fa-search"}),e("span",null,"Buscar")],-1))],32)]),e("div",I,[e("table",z,[s[11]||(s[11]=e("thead",null,[e("tr",null,[e("th",{class:"p-3 text-left"},"Código de Usuario"),e("th",{class:"p-3 text-left"},"Nombre"),e("th",{class:"p-3 text-left"},"Email"),e("th",{class:"p-3 text-left"},"Contraseña"),e("th",{class:"p-3 text-left"},"Tipo de Usuario"),e("th",{class:"p-3 text-center"},"Opciones")])],-1)),e("tbody",null,[(n(!0),r(w,null,B(u.usuarios.data,t=>(n(),r("tr",{key:t.codUsuario,class:"border-b"},[e("td",H,f(t.codUsuario),1),e("td",J,f(t.name),1),e("td",K,f(t.email),1),s[10]||(s[10]=e("td",{class:"p-3"},"********",-1)),e("td",Q,[t.tipoUsuario?(n(),r("span",W,f(t.tipoUsuario.descripcion),1)):(n(),r("span",X,"N/A"))]),e("td",Y,[o(b(x),{href:l.route("usuario.edit",t.codUsuario),class:"btn btn-warning btn-sm mx-1"},{default:a(()=>s[8]||(s[8]=[e("i",{class:"fas fa-edit"},null,-1),i(" Editar ")])),_:2},1032,["href"]),e("button",{onClick:le=>C(t),class:"btn btn-danger btn-sm mx-1"},s[9]||(s[9]=[e("i",{class:"fas fa-trash"},null,-1),i(" Eliminar ")]),8,Z)])]))),128))])])]),e("div",ee,[(g=u.usuarios)!=null&&g.prev_page_url?(n(),r("div",se,[o(b(x),{href:(_=u.usuarios)==null?void 0:_.prev_page_url,class:"btn btn-primary"},{default:a(()=>s[12]||(s[12]=[e("i",{class:"fas fa-arrow-left"},null,-1),i(" Anterior ")])),_:1},8,["href"])])):U("",!0),(h=u.usuarios)!=null&&h.next_page_url?(n(),r("div",te,[o(b(x),{href:(y=u.usuarios)==null?void 0:y.next_page_url,class:"btn btn-primary"},{default:a(()=>s[13]||(s[13]=[i(" Siguiente "),e("i",{class:"fas fa-arrow-right"},null,-1)])),_:1},8,["href"])])):U("",!0)])])])])]),o(A,{show:d.value,onClose:s[3]||(s[3]=t=>d.value=!1)},{title:a(()=>s[15]||(s[15]=[e("h1",{class:"text-lg font-semibold"},"Confirmar Eliminación",-1)])),content:a(()=>{var t;return[e("p",null,[s[16]||(s[16]=i("¿Estás seguro de que deseas eliminar el usuario ")),e("strong",null,f((t=p.value)==null?void 0:t.name),1),s[17]||(s[17]=i("?"))])]}),footer:a(()=>[o(j,{onClick:k,class:"bg-red-600 hover:bg-red-800"},{default:a(()=>s[18]||(s[18]=[i("Eliminar")])),_:1}),e("button",{onClick:s[2]||(s[2]=t=>d.value=!1),class:"ml-4 btn btn-secondary"},"Cancelar")]),_:1},8,["show"])]}),_:1})],64)}}},fe=D(ae,[["__scopeId","data-v-190e5b88"]]);export{fe as default};
